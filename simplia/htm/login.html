<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->

    <link rel="stylesheet" href="./css/pure.css">
    <link rel="stylesheet" href="./css/custom.css">
    <link rel="stylesheet" href="./css/ui.fancytree.css">
    <link rel="stylesheet" href="./css/marketing.css">
    <link rel="stylesheet" href="./css/font-awesome.css">

    <style type="text/css">

        .error { color:  red !important; width: 50em !important; text-align:left !important; padding-left:5em !important; }


    </style>


    <script src="./js/jquery.min.js" type="text/javascript"></script>
    <script src="./js/jquery-ui.min.js" type="text/javascript"></script>
    <script src="./js/jquery.smoothDivScroll.js" type="text/javascript" ></script><!-- Stock Ticker smooth div js -->
    <script src="./js/jquery.slimscroll.js" type="text/javascript" ></script><!-- Stock slim scrollerjs -->
    <script src="./js/jquery.validate.min.js"></script>
    <script src="./js/jquery.fancytree.js" type="text/javascript"></script> <!-- Fancy tree javascript -->
    <script src="./js/jquery.autocomplete.js" type="text/javascript"></script> <!-- Auto complete javascript -->

    <script type="text/javascript" src="./js/geoip2.js"></script>
    <script type="text/javascript" src="./js/yui-3.18.js"></script>
    <script type="text/javascript" src="./js/paneleventmanager.js"></script>
    <script type="text/javascript" src="./js/screenmanager.js"></script>
    <script type="text/javascript" src="./js/panelloader.js"></script>
    <script type="text/javascript" src="./js/basicpanel.js"></script>
    <script type="text/javascript" src="./js/formpanel.js"></script>
    <script type="text/javascript" src="./js/lotuswebsockets.js"></script>
    <script type="text/javascript" src="./js/communicationmanager.js"></script>
</head>
<body class="yui3-skin-sam" >
<div class="pure-form pure-form-aligned">
    <form id="acctmgmt_add_account_form">
        <fieldset>
            <div class="pure-control-group">
                <label for="username">Username</label>
                <input type="text" placeholder="Username" name="username" id="username" >
            </div>
            <div class="pure-control-group">
                <label for="password">Password</label>
                <input type="password" placeholder="Password" name="password" id="password" >
            </div>
            <div class="pure-controls-group">
                <button id="login_button" class="pure-button pure-button-primary" type="button">Login</button>
                <button id="reset_button" class="pure-button pure-button-primary" type="button">Reset Password</button>
            </div>
            <div class="pure-control-group">
                <span id="status"></span>
            </div>

        </fieldset>
    </form>
</div>

<script>
    $('#login_button').click(function(){
        //Confirm the password
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: "./login",
            data: "username=" + $('#username').val() + "&password=" + $('#password').val(),
            success: function(data) {
                if(typeof data.error !== "undefined") {
                    $('#status').text('Error: ' + JSON.stringify(data));
                }
                else {
                    $('#status').text('Login successful!');
                }
            }
        })
    });

    $('#reset_button').click(function(){
        //Confirm the password
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: "./resetpwdrequest",
            data: "username=" + $('#username').val(),
            success: function(data) {
                if(typeof data.error !== "undefined") {
                    $('#status').text('Error: ' + JSON.stringify(data));
                }
                else {
                    $('#status').text('Login successful!');
                }
            }
        })
    });

</script>
</body>
</html>